<div *ngIf="errorMessage" class="alert alert-danger">
    {{ errorMessage }}
</div>

<div *ngIf="candidateProfile; else loading">
    <div *ngIf="isEditing">
        <h2>Edit Profile</h2>
        <form (ngSubmit)="saveProfile()">
            <div>
                <label for="fullName">Full Nameee:</label>
                <input id="fullName" [(ngModel)]="candidateProfile.fullName" name="fullName" required />
            </div>
            <div>
                <label for="dob">Date of Birth:</label>
                <input id="dob" type="date" [(ngModel)]="candidateProfile.dob" name="dob" required />
            </div>
            <div>
                <label for="qualifications">Qualifications:</label>
                <textarea id="qualifications" [(ngModel)]="candidateProfile.qualifications" name="qualifications"
                    required></textarea>
            </div>
            <div>
                <label for="experience">Experience:</label>
                <textarea id="experience" [(ngModel)]="candidateProfile.experience" name="experience"
                    required></textarea>
            </div>
            <div>
                <label for="militaryBackground">Military Background:</label>
                <textarea id="militaryBackground" [(ngModel)]="candidateProfile.militaryBackground"
                    name="militaryBackground" required></textarea>
            </div>
            <div>
                <label for="about">About:</label>
                <textarea id="about" [(ngModel)]="candidateProfile.about" name="about" required></textarea>
            </div>
            <button type="submit">Save</button>
            <button type="button" (click)="cancelEdit()">Cancel</button>
        </form>
    </div>

    <div *ngIf="!isEditing">
        <h2>Profile Details</h2>
        <div>
            <strong>Full Name:</strong> {{ candidateProfile.fullName }}
        </div>
        <div>
            <strong>Date of Birth:</strong> {{ candidateProfile.dob }}
        </div>
        <div>
            <strong>Qualifications:</strong> {{ candidateProfile.qualifications }}
        </div>
        <div>
            <strong>Experience:</strong> {{ candidateProfile.experience }}
        </div>
        <div>
            <strong>Military Background:</strong> {{ candidateProfile.militaryBackground }}
        </div>
        <div>
            <strong>About:</strong> {{ candidateProfile.about }}
        </div>

        <button (click)="editProfile()">Edit Profile</button>
    </div>
</div>

<ng-template #loading>
    <div>Loading profile...</div>
</ng-template>